---
import BaseLayout from "../layouts/BaseLayout.astro";
---
<BaseLayout title="TagoIO Snippets">
  <main class="container max-w-6xl mx-auto px-4 py-10">
    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-[11px] md:text-xs font-medium tracking-[0.4em] uppercase text-muted-foreground mb-2">SNIPPETS</h1>
      <img src="/tagoio-official-logo.svg" alt="TagoIO" class="mx-auto h-12 md:h-14" />
    </div>

    <!-- Analysis Snippets Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-6">Analysis Snippets</h2>
      <p class="text-muted-foreground mb-8">
        Analysis scripts run on TagoIO's serverless platform to process device data, send notifications,
        generate reports, and integrate with external services.
      </p>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Node Legacy -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Node.js Legacy</h3>
            <span class="px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">Legacy</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            ES5/ES6 JavaScript with pre-installed libraries only
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/analysis/node-legacy.json" class="text-primary hover:underline text-sm">
              📄 node-legacy.json (metadata)
            </a>
            <a href="/analysis/node-legacy/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>

        <!-- Node rt2025 -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Node.js rt2025</h3>
            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Modern</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            Modern JavaScript with fetch API and improved performance
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/analysis/node-rt2025.json" class="text-primary hover:underline text-sm">
              📄 node-rt2025.json (metadata)
            </a>
            <a href="/analysis/node-rt2025/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>

        <!-- Deno rt2025 -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Deno rt2025</h3>
            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">TypeScript</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            Modern TypeScript/JavaScript with native TS support and URL-based modules
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/analysis/deno-rt2025.json" class="text-primary hover:underline text-sm">
              📄 deno-rt2025.json (metadata)
            </a>
            <a href="/analysis/deno-rt2025/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>

        <!-- Python Legacy -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Python Legacy</h3>
            <span class="px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">Legacy</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            Python 3.x with pre-installed libraries only
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/analysis/python-legacy.json" class="text-primary hover:underline text-sm">
              📄 python-legacy.json (metadata)
            </a>
            <a href="/analysis/python-legacy/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>

        <!-- Python rt2025 -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Python rt2025</h3>
            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Modern</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            Latest Python with dynamic package installation (UV) and PyPI access
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/analysis/python-rt2025.json" class="text-primary hover:underline text-sm">
              📄 python-rt2025.json (metadata)
            </a>
            <a href="/analysis/python-rt2025/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Payload Parser Snippets Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-6">Payload Parser Snippets</h2>
      <p class="text-muted-foreground mb-8">
        Payload parsers transform raw device data into TagoIO's standardized format for storage and visualization.
      </p>

      <div class="grid md:grid-cols-2 gap-8">
        <!-- JavaScript Runtime -->
        <div class="border rounded-lg p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-semibold">JavaScript Runtime</h3>
            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">Node.js</span>
          </div>
          <p class="text-sm text-muted-foreground mb-4">
            JavaScript (ES5/ES6+) for processing and transforming device payload data
          </p>
          <div class="flex flex-col space-y-2">
            <a href="/payload-parser/javascript.json" class="text-primary hover:underline text-sm">
              📄 javascript.json (metadata)
            </a>
            <a href="/payload-parser/javascript/" class="text-primary hover:underline text-sm">
              📁 Browse code files
            </a>
          </div>
        </div>


      </div>
    </section>

    <!-- Usage Examples Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-6">Usage Examples</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-muted p-6 rounded-lg">
          <h3 class="text-lg font-semibold mb-4">Fetch JSON Metadata</h3>
          <pre class="text-sm bg-background p-4 rounded border overflow-x-auto"><code>curl https://snippets.tago.io/analysis/deno-rt2025.json</code></pre>
        </div>

        <div class="bg-muted p-6 rounded-lg">
          <h3 class="text-lg font-semibold mb-4">Download Code File</h3>
          <pre class="text-sm bg-background p-4 rounded border overflow-x-auto"><code>curl https://snippets.tago.io/analysis/deno-rt2025/console.ts</code></pre>
        </div>
      </div>
    </section>

    <!-- API Endpoints Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-6">API Endpoints</h2>

      <div class="space-y-6">
        <div>
          <h3 class="text-xl font-semibold mb-4">Analysis Snippets</h3>
          <div class="bg-muted p-4 rounded-lg">
            <div class="grid gap-2 text-sm font-mono">
              <div><span class="text-muted-foreground">JSON:</span> /analysis/&#123;runtime&#125;.json</div>
              <div><span class="text-muted-foreground">Files:</span> /analysis/&#123;runtime&#125;/&#123;filename&#125;</div>
              <div class="text-xs text-muted-foreground mt-2">
                Runtimes: node-legacy, node-rt2025, deno-rt2025, python-legacy, python-rt2025
              </div>
            </div>
          </div>
        </div>

        <div>
          <h3 class="text-xl font-semibold mb-4">Payload Parser Snippets</h3>
          <div class="bg-muted p-4 rounded-lg">
            <div class="grid gap-2 text-sm font-mono">
              <div><span class="text-muted-foreground">JSON:</span> /payload-parser/&#123;runtime&#125;.json</div>
              <div><span class="text-muted-foreground">Files:</span> /payload-parser/&#123;runtime&#125;/&#123;filename&#125;</div>
              <div class="text-xs text-muted-foreground mt-2">
                Runtimes: javascript
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-8 border-t">
      <p class="text-muted-foreground">
        Built by <a href="https://tago.io" class="text-primary hover:underline">TagoIO</a> •
        <a href="https://github.com/tago-io/snippets" class="text-primary hover:underline">Source Code</a> • 
        <a href="https://docs.tago.io" class="text-primary hover:underline">Documentation</a>
      </p>
    </footer>
  </main>
</BaseLayout>
